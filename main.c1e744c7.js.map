{"version":3,"sources":["scripts/main.js"],"names":["addForm","document","querySelector","insertAdjacentHTML","offices","map","office","handleSubmit","addEventListener","filledForm","forms","nameValue","name","value","positionValue","position","officeValue","ageValue","age","salaryValue","salary","validateFields","trElement","createElement","innerHTML","toLocaleString","children","child","input","appendChild","pushNotification","validateRequired","length","posTop","posRight","title","description","type","notification","notificationTitle","notificationDescription","setAttribute","body","append","textContent","classList","add","style","top","right","setTimeout","removeChild","addSelectToTbodyRows","tbody","evt","remove","target","parentNode","sortTable","theadRows","columnNumber","tbodyElement","isAscSorting","e","trElements","i","item","trChild","push","sort","a","b","aData","bData","replace","localeCompare","reverse","row"],"mappings":"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","file":"main.c1e744c7.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nsortTable();\naddSelectToTbodyRows();\naddForm();\nhandleSubmit();\n\nfunction addForm() {\n  const offices = [\n    'Tokyo',\n    'Singapore',\n    'London',\n    'New York',\n    'Edinburgh',\n    'San Francisco',\n  ];\n\n  document.querySelector('body')\n    .insertAdjacentHTML('beforeend', `\n    <form class=\"new-employee-form\" onsubmit=\"return false;\">\n        <label>Name: <input data-qa=\"name\" name=\"name\" type=\"text\"></label>\n        <label>Position:\n          <input data-qa=\"position\" name=\"position\" type=\"text\">\n        </label>\n        <label>Office:\n          <select data-qa=\"office\" name=\"office\">\n              ${offices.map(office => `<option>${office}</option>`)}\n          </select>\n        </label>\n        <label>Age: <input data-qa=\"age\" name=\"age\" type=\"number\"></label>\n        <label>Salary:\n            <input data-qa=\"salary\" name=\"salary\" type=\"number\">\n        </label>\n\n        <button type=\"submit\">Save to table</button>\n    </form>\n  `);\n}\n\nfunction handleSubmit() {\n  document.querySelector('form')\n    .addEventListener('submit', () => {\n      const filledForm = document.forms[0];\n\n      const nameValue = filledForm.name.value;\n      const positionValue = filledForm.position.value;\n      const officeValue = filledForm.office.value;\n      const ageValue = +filledForm.age.value;\n      const salaryValue = +filledForm.salary.value;\n\n      if (validateFields(nameValue, positionValue, officeValue, ageValue)) {\n        const trElement = document.createElement('tr');\n\n        trElement.innerHTML = `\n          <td>${nameValue}</td>\n          <td>${positionValue}</td>\n          <td>${officeValue}</td>\n          <td>${ageValue}</td>\n          <td>$${salaryValue.toLocaleString('en-US')}</td>\n        `;\n\n        for (const child of filledForm.children) {\n          const input = child.querySelector('input');\n\n          if (input !== null) {\n            input.value = null;\n          }\n        }\n\n        document.querySelector('tbody').appendChild(trElement);\n\n        pushNotification(10, 10, 'Success!',\n          'Your data added to table!', 'success');\n      }\n    });\n}\n\nfunction validateFields(nameValue, positionValue, officeValue, ageValue) {\n  if (!(validateRequired(nameValue)\n    && validateRequired(positionValue)\n    && validateRequired(officeValue))) {\n    pushNotification(10, 10, 'Error',\n      'All fields are requaired!', 'error');\n\n    return false;\n  }\n\n  if (nameValue.length < 4) {\n    pushNotification(10, 10, 'Error',\n      'Name length need be more then 4 symbols!', 'error');\n\n    return false;\n  }\n\n  if (ageValue < 18 || ageValue > 60) {\n    pushNotification(10, 10, 'Error',\n      'Age need be more then 18 and less then 60!', 'error');\n\n    return false;\n  }\n\n  return true;\n}\n\nfunction validateRequired(value) {\n  return value !== null\n    && value !== undefined\n    && value !== '';\n}\n\nfunction pushNotification(posTop, posRight, title, description, type) {\n  const notification = document.createElement('div');\n  const notificationTitle = document.createElement('h2');\n  const notificationDescription = document.createElement('p');\n\n  notification.setAttribute('data-qa', 'notification');\n  document.body.append(notification);\n  notification.append(notificationTitle);\n  notification.append(notificationDescription);\n\n  notificationTitle.textContent = title;\n  notificationTitle.classList.add('title');\n\n  notificationDescription.textContent = description;\n  notification.classList.add('notification', type);\n\n  notification.style.top = posTop + 'px';\n  notification.style.right = posRight + 'px';\n\n  setTimeout(() => {\n    document.body.removeChild(notification);\n  }, 1999);\n}\n\nfunction addSelectToTbodyRows() {\n  const tbody = document.querySelector('tbody');\n\n  tbody.addEventListener('click', evt => {\n    for (const child of tbody.children) {\n      child.classList.remove('active');\n    }\n\n    evt.target.parentNode.classList.add('active');\n  });\n}\n\nfunction sortTable() {\n  const theadRows = document.querySelector('thead tr');\n  const tbodyElement = document.querySelector('tbody');\n\n  let columnNumber;\n  let isAscSorting = true;\n\n  theadRows.addEventListener('click', e => {\n    const trElements = [];\n\n    for (let i = 0; i < theadRows.children.length; i++) {\n      if (theadRows.children.item(i) === e.target) {\n        if (columnNumber !== i) {\n          isAscSorting = true;\n        }\n\n        columnNumber = i;\n      }\n    }\n\n    for (const trChild of tbodyElement.children) {\n      trElements.push(trChild);\n    }\n\n    trElements.sort((a, b) => {\n      let aData = a.children[columnNumber].textContent;\n      let bData = b.children[columnNumber].textContent;\n\n      if (columnNumber === 4) {\n        aData = aData.replace(/[$-,]/g, '');\n        bData = bData.replace(/[$-,]/g, '');\n\n        return aData - bData;\n      }\n\n      return aData.localeCompare(bData);\n    });\n\n    for (const child of trElements) {\n      tbodyElement.removeChild(child);\n    }\n\n    if (!isAscSorting) {\n      trElements.reverse();\n    }\n\n    for (const row of trElements) {\n      tbodyElement.appendChild(row);\n    }\n\n    isAscSorting = !isAscSorting;\n  });\n}\n"]}